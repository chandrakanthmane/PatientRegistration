<!-- src/app/components/patient-form/patient-form.component.html -->
<div class="patient-form-container">
    <h2>Patient Registration</h2>
    
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
    
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
    
    <form [formGroup]="patientForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="firstName">First Name *</label>
          <input 
            type="text" 
            id="firstName" 
            formControlName="firstName" 
            class="form-control"
            [class.is-invalid]="patientForm.get('firstName')?.invalid && patientForm.get('firstName')?.touched"
          >
          <div *ngIf="patientForm.get('firstName')?.invalid && patientForm.get('firstName')?.touched" class="invalid-feedback">
            First name is required
          </div>
        </div>
        
        <div class="form-group">
          <label for="lastName">Last Name *</label>
          <input 
            type="text" 
            id="lastName" 
            formControlName="lastName" 
            class="form-control"
            [class.is-invalid]="patientForm.get('lastName')?.invalid && patientForm.get('lastName')?.touched"
          >
          <div *ngIf="patientForm.get('lastName')?.invalid && patientForm.get('lastName')?.touched" class="invalid-feedback">
            Last name is required
          </div>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="dateOfBirth">Date of Birth *</label>
          <input 
            type="date" 
            id="dateOfBirth" 
            formControlName="dateOfBirth" 
            class="form-control"
            [class.is-invalid]="patientForm.get('dateOfBirth')?.invalid && patientForm.get('dateOfBirth')?.touched"
          >
          <div *ngIf="patientForm.get('dateOfBirth')?.invalid && patientForm.get('dateOfBirth')?.touched" class="invalid-feedback">
            Date of birth is required
          </div>
        </div>
        
        <div class="form-group">
          <label for="gender">Gender *</label>
          <select 
            id="gender" 
            formControlName="gender" 
            class="form-control"
            [class.is-invalid]="patientForm.get('gender')?.invalid && patientForm.get('gender')?.touched"
          >
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
          <div *ngIf="patientForm.get('gender')?.invalid && patientForm.get('gender')?.touched" class="invalid-feedback">
            Gender is required
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="address">Address *</label>
        <input 
          type="text" 
          id="address" 
          formControlName="address" 
          class="form-control"
          [class.is-invalid]="patientForm.get('address')?.invalid && patientForm.get('address')?.touched"
        >
        <div *ngIf="patientForm.get('address')?.invalid && patientForm.get('address')?.touched" class="invalid-feedback">
          Address is required
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="phoneNumber">Phone Number *</label>
          <input 
            type="tel" 
            id="phoneNumber" 
            formControlName="phoneNumber" 
            class="form-control"
            [class.is-invalid]="patientForm.get('phoneNumber')?.invalid && patientForm.get('phoneNumber')?.touched"
          >
          <div *ngIf="patientForm.get('phoneNumber')?.invalid && patientForm.get('phoneNumber')?.touched" class="invalid-feedback">
            Phone number is required
          </div>
        </div>
        
        <div class="form-group">
          <label for="email">Email *</label>
          <input 
            type="email" 
            id="email" 
            formControlName="email" 
            class="form-control"
            [class.is-invalid]="patientForm.get('email')?.invalid && patientForm.get('email')?.touched"
          >
          <div *ngIf="patientForm.get('email')?.invalid && patientForm.get('email')?.touched" class="invalid-feedback">
            Valid email is required
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="insuranceProvider">Insurance Provider</label>
        <input 
          type="text" 
          id="insuranceProvider" 
          formControlName="insuranceProvider" 
          class="form-control"
        >
      </div>
      
      <div class="form-group">
        <label for="medicalHistory">Medical History</label>
        <textarea 
          id="medicalHistory" 
          formControlName="medicalHistory" 
          class="form-control"
          rows="3"
        ></textarea>
      </div>
      
      <div class="form-actions">
        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="patientForm.invalid || isSubmitting"
        >
          {{ isSubmitting ? 'Registering...' : 'Register Patient' }}
        </button>
      </div>
    </form>
  </div>

